<div class="private-msg-wrapper">
	<div class="top-section">

		@for (privateMsg of firebaseService.privateChatList; track privateMsg.privatChatId; let index = $index) {
			@if (privateMsg.privatChatId === this.chatService.docRef) {
				@if (privateMsg.chatCreator == this.firebaseService.currentUserId) {

			<div class="user-content pointer" (click)="handleClickOnMember(privateMsg.chatReciver)">
				<img [src]="this.firebaseService.getUserAvatar(privateMsg.chatReciver)" alt="User Avatar" />
				<div class="user-status"
					[ngClass]="{ 'online': this.firebaseService.getUserOnlineStatus(privateMsg.chatReciver), 'offline': !this.firebaseService.getUserOnlineStatus(privateMsg.chatReciver) }">
				</div>
				<span>{{ this.firebaseService.getUserDisplayName(privateMsg.chatReciver) }}</span> 
			</div>
				}
			}
        }
		@for (privateMsg of firebaseService.privateChatList; track privateMsg.privatChatId; let index = $index) {
			@if (privateMsg.privatChatId === this.chatService.docRef) {
				@if (privateMsg.chatReciver == this.firebaseService.currentUserId) {
			<div class="user-content pointer" (click)="handleClickOnMember(privateMsg.chatCreator)">
				<img [src]="this.firebaseService.getUserAvatar(privateMsg.chatCreator)" alt="User Avatar" />
				<div class="user-status"
					[ngClass]="{ 'online': this.firebaseService.getUserOnlineStatus(privateMsg.chatCreator), 'offline': !this.firebaseService.getUserOnlineStatus(privateMsg.chatCreator) }">
				</div>
				<span>{{ this.firebaseService.getUserDisplayName(privateMsg.chatCreator) }}</span> 
			</div>
		}
			}
        }
			

	</div>

	<div class="chat-history">
		<app-chat-history></app-chat-history>
	</div>
	<div class="chat-input">
		<app-chat-input 
			[sourceComponent]="'privateMessage'" 
			[placeholderText]="this.chatService.placeholderName"
			(messageEvent)="this.chatService.onMessageSent($event)"></app-chat-input>
	</div>
</div>